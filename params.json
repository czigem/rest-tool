{"name":"Rest-tool","tagline":"","body":"# rest-tool - A simple Node.js module to document, emulate and test RESTful APIs. \r\n\r\n## About\r\n\r\nThe main purpose of using 'rest-tool' is to create and maintain a well-defined REST API specification, which provides a solid basis for implementing and mocking the RESTful interface between the parties that communicates with each other through it.\r\n\r\nThis specification can handle as a contract among the communicating agents either they are servers or clients.\r\n\r\nYou can do the following things with `rest-tool`:\r\n\r\n- Create a new REST API project from scratch.\r\n- Specify the resources (uniquely identified by their URL patterns)\r\n  that can be provided/retrieved through the RESTful services.\r\n- Specify the expected working of HTTP methods in relation to each resource.\r\n- Put additional information beside the resource definitions (mock data, validation schemas, etc.)\r\n- Use the mock Node.js server for testing, and simulating of the REST API functionality.\r\n- Generate/Update the HTML format documentation of the REST API\r\n- Generate/Update test cases which can be used to test either the mock server \r\n  and the real test/production servers to verify that the server is working according to the API.\r\n- Use the mock server's to provide your web UI frontend source as static content \r\n  during the development, without the need for deployment.\r\n- Use the mock server's proxy feature to test your web UI frontend diretly against \r\n  3rd party application servers (JBoss, Tomcat, Apache, etc.) without deployment.\r\n- Define your own templates to generate test cases and server side implementations \r\n  which best fit to your needs. (the server side templating is currently under development).\r\n\r\nUsing the tool the frontent and backend developers can work fully independently from each other. They can assure that their implementation is fully comply to the REST API specification.\r\n\r\nThe 'rest-tool' relies on the HTTP protocol specification, and NOT on language specific implementations. You can keep your communicating agents loosely coupled, and fully technology agnostic.\r\n\r\n## Installation\r\n\r\n### Preprequisites:\r\n\r\n`rest-tool` needs [Node.js](http://nodejs.org/) and [NPM](https://npmjs.org/) installed on the machine, before start installing and using it.\r\n\r\nIf you want to change the stylesheets of the generated documentation of the API, you will need [Sass](http://sass-lang.com/) and [Compass](http://compass-style.org/).\r\n\r\n\r\n### Installation steps\r\n\r\nThe `rest-tool` tool can be installed as any other node module, but you have to install to the global node_modules folder, so use the `-g` switch to `npm`.\r\n\r\nTo install `rest-tool`, execute the following command:\r\n\r\n    $ npm install -g rest-tool\r\n\r\nTo check, whether rest-tool is installed successfully, run the following command:\r\n\r\n    $ rest-tool -V\r\n    0.2.3\r\n\r\n\r\n## Usage of the `rest-tool` utility\r\n\r\nTo get help, use the `-h` option:\r\n\r\n    $ rest-tool -h\r\n\r\n      Usage: rest-tool [options] [command]\r\n\r\n      Commands:\r\n\r\n        create [options] <project-name> Create a new REST API project\r\n        doc [options]          Documentation management\r\n        test [options]         Test cases management\r\n\r\n      Options:\r\n\r\n        -h, --help     output usage information\r\n        -V, --version  output the version number\r\n\r\nYou can do the following things with `rest-tool`:\r\n\r\n- Create a new REST API project (`rest-tool create`).\r\n- Generate/Update the HTML format documentation (`rest-tool doc --update`)\r\n- Generate/Update the test cases (`rest-tool test --update`)\r\n- Use the mock Node.js server for testing, and simulating of the REST API functionality (`node server/server.js`).\r\n\r\nYou can get help to any of the commands using the following schema:\r\n\r\n    $ rest-tool <command> -h\r\n\r\nfor example:\r\n\r\n    $ rest-tool docs -h\r\n\r\n      Usage: docs [options]\r\n\r\n      Options:\r\n\r\n        -h, --help                     output usage information\r\n        -u, --update                   Generate the HTML format documentation\r\n        -c, --config <configFileName>  The name of the configuration file (default: config.yml)\r\n        -v, --verbose                  Verbose mode\r\n\r\nThe following sections describe the usage of the commands in details.\r\n\r\n\r\n### Generate a new REST API project:\r\n\r\n    $ rest-tool create <project-name>\r\n\r\nfor example:\r\n\r\n    $ rest-tool create crm-api\r\n\r\nAfter, you have created the new project, move into the new projects folder, and install those node modules, the new project needs:\r\n\r\n    $ cd crm-api\r\n    $ npm install\r\n\r\nIf you want to use the mock server too, then do this also in its subfolder:\r\n\r\n    $ cd server\r\n    $ npm install\r\n\r\n\r\n#### The REST API project layout generated by the `rest-tool` utility\r\n\r\nIn general, you can modify the content of the files and folders the `rest-tool create` command made, except the files in `docs` and the `test` folders, because these are created/overweritten by the `rest-tool` command. If you want to modify the working of the cases, the server api implementation or the look-and-feel of the generated documents, you should mostly make changes under the `templates` and `server` directories, and of course you will create the service descriptions under the `services` folder.\r\n\r\n- __config.yml__ :   \r\n    The configuration parameters of the REST API project\r\n\r\n- __server__ :   \r\n    The mock server with the mock implementation of the API\r\n\r\n- __services__ :   \r\n    This folder contains the service descriptors. Each service should be put into its own subfolder, and must have a `service.yml` in it. All the other supplementary files, which belongs to the specific service, and used to the specification must be put here, beside the `service.yml` file. Such files can be test data and schema files.\r\n\r\n    The service implementation files, which are referred by the `service.yml` but run on the mock, or live server should be put beside the server code, and not here, beside the specification files.\r\n\r\n    Note: The files placed into this folder will be referenced from other places, such as: from the HTML documentation, the server and the test cases.\r\n\r\n- __docs__ :   \r\n    The HTMl format documentation of the REST API. this folder will be totally removed, and recreated during updating the documentation, so you should not modify its content manually.\r\n\r\n- __templates__ :   \r\n    The customizable templates used by the documentation generator and the test case generator.\r\n\r\n- __templates/docs__ :   \r\n    Documentation templates, stylesheets, and images that the tool is using to create the HTML format documentation. The are written in Mustache format, using partials.\r\n\r\n    The stylesheet is based on sass/compass. if you want to change the CSS, modify the files under the `templates/docs/sass` directory.\r\n\r\n- __templates/test__ :   \r\n    JavaScript test-case (mustache) templates to generate unit test code, which will run with mocha and supertest. These are referred from the service descriptors by their names. You can put here any number of additional templates.\r\n\r\n- __test__ :   \r\n    The test cases generated by the `rest-tool` utility using the service descriptors, and the referred templates.\r\n\r\n- __Makefile__ :   \r\n    Makefile to run the test cases. Used by mocha and Jenkins.\r\n\r\n\r\n### Define services\r\n\r\nThe services can be specified under the `services` folder. Each service will be activated only if it is added to the `config.yml` file, which can be found under the project root directory.\r\n\r\nThe newly created project contains a sample service descriptor (`services/monitoring/isAlive/service.yml`) and the `config.yml` configuration file. This new setup can be used to verify the working of the project without modifying the files. The sample desciptor also can be used as a template to write your own definitions. You can use Markdown format text in fields named like: 'description', 'summary' and 'details'.\r\n\r\nNote: The service descriptors you create will not be used automatically. You have to \r\nmanually list them under the `services` property of the `config.yml` file:\r\n\r\n    services:\r\n        - /monitoring/isAlive\r\n        # To add new services, put here the path of the directory that contains the service.yml\r\n\r\nThis way, you can write you new services until they will be stable enough to activate them, and they will be loaded and start working only if you have added them to the config file.\r\n\r\n\r\n### Run the mock server:\r\n\r\nTo start the mock server, execute the following command:\r\n\r\n    $ cd ./server\r\n    $ node server.js\r\n\r\nThis will start a web server, which will listen on the localhost, and the port specified in the `config.yml` file (3007 by default).\r\n\r\nAfter starting the server, you can can try it with a browser, or the `curl` command line tool:\r\n\r\n    $ curl http://localhost:3007/rest/monitoring/isAlive\r\n    true\r\n\r\n\r\n### Update(/generate) documentations\r\n\r\nTo create or update the HTMl format documentation, execute the following command:\r\n\r\n    $ rest-tool docs --update\r\n\r\nThis will create the documentation under the `docs` folder. the HTMl documentation can be opened via a browser directly as a static file, or through the mock server, loading the following URL: (http://localhost:3007/docs/index.html).\r\n\r\n\r\n### Update(/generate) test cases\r\n\r\nBefore you run the tests, you have to generate/update the test cases. You can do this with the following command:\r\n\r\n    $ rest-tool test --update --overwrite\r\n\r\nThe `--overwrite` option tells the tool to overwrite the existing cases, otherwise it will keep the if they exist yet.\r\n\r\n\r\n### Run test cases\r\n\r\nAfter the test cases is generated, you can run the tests, directly from the command line, or by the continuous integration server. Use one of the following commands:\r\n\r\n    $ make test\r\n\r\nor\r\n\r\n    $ mocha\r\n\r\nTo select the appropriate reporting format for the continuous integration environment, modify the `Makefile`:\r\n\r\n    REPORTER ?= spec\r\n\r\n    test:\r\n        @node_modules/.bin/mocha --reporter $(REPORTER)\r\n\r\n    .PHONY: test\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}